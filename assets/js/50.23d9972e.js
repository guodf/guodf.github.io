(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{424:function(s,n,a){"use strict";a.r(n);var e=a(1),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"mysql常用配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql常用配置"}},[s._v("#")]),s._v(" MySQL常用配置")]),s._v(" "),a("p",[s._v("MySQL配置参数多达数百个，不过常用的并不多，很多配置我们不需要关心，只要掌握一些必要的配置项就能解决99%的问题，当遇见了那1%的问题时mysql可能已经不能满足你的需求了。")]),s._v(" "),a("p",[s._v("这里推荐一个在线生成配置文件的网址：https://imysql.com/my-cnf-wizard.html，我们只需要做出一些场景描述就可以得到一个配置文件，再根据具体的场景做适当的修改就行了。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('#\n## my.cnf for MySQL 5.7/8.0\n## 本配置文件主要适用于MySQL 5.7/8.0版本\n#\n[client]\nport\t= 3306\nsocket\t= /data/mysql/mysql.sock\n\n[mysqld]\nuser\t= mysql\nport\t= 3306\nbasedir\t= /usr/local/mysql\ndatadir\t= /data/mysql\nsocket\t= /data/mysql/mysql.sock\npid-file = mysqldb.pid\ncharacter-set-server = utf8mb4\nskip_name_resolve = 1\n\n#若你的MySQL数据库主要运行在境外，请务必根据实际情况调整本参数\ndefault_time_zone = "+8:00"\n\nopen_files_limit    = 65535\n\nback_log = 1024\nmax_connections = 512\nmax_connect_errors = 1000000\ntable_open_cache = 1024\ntable_definition_cache = 1024\ntable_open_cache_instances = 64\nth_stack = 512K\nexternal-locking = FALSE\nmax_allowed_packet = 32M\nsort_buffer_size = 4M\njoin_buffer_size = 4M\nthread_cache_size = 768\ninteractive_timeout = 600\nwait_timeout = 600\ntmp_table_size = 32M\nmax_heap_table_size = 32M\nslow_query_log = 1\nlog_timestamps = SYSTEM\nslow_query_log_file = /data/mysql/slow.log\nlog-error = /data/mysql/error.log\nlong_query_time = 0.1\nlog_queries_not_using_indexes =1\nlog_throttle_queries_not_using_indexes = 60\nmin_examined_row_limit = 100\nlog_slow_admin_statements = 1\nlog_slow_slave_statements = 1\nserver-id = 3306\nlog-bin = /data/mysql/mybinlog\nsync_binlog = 1\nbinlog_cache_size = 4M\nmax_binlog_cache_size = 2G\nmax_binlog_size = 1G\n\n#注意：MySQL 8.0开始，binlog_expire_logs_seconds选项也存在的话，会忽略expire_logs_days选项\nexpire_logs_days = 7\n\nmaster_info_repository = TABLE\nrelay_log_info_repository = TABLE\ngtid_mode = on\nenforce_gtid_consistency = 1\nlog_slave_updates\nslave-rows-search-algorithms = \'INDEX_SCAN,HASH_SCAN\'\nbinlog_format = row\nbinlog_checksum = 1\nrelay_log_recovery = 1\nrelay-log-purge = 1\nkey_buffer_size = 32M\nread_buffer_size = 8M\nread_rnd_buffer_size = 4M\nbulk_insert_buffer_size = 64M\nmyisam_sort_buffer_size = 128M\nmyisam_max_sort_file_size = 10G\nmyisam_repair_threads = 1\nlock_wait_timeout = 3600\nexplicit_defaults_for_timestamp = 1\ninnodb_thread_concurrency = 0\ninnodb_sync_spin_loops = 100\ninnodb_spin_wait_delay = 30\n\ntransaction_isolation = REPEATABLE-READ\n#innodb_additional_mem_pool_size = 16M\ninnodb_buffer_pool_size = 22938M\ninnodb_buffer_pool_instances = 4\ninnodb_buffer_pool_load_at_startup = 1\ninnodb_buffer_pool_dump_at_shutdown = 1\ninnodb_data_file_path = ibdata1:1G:autoextend\ninnodb_flush_log_at_trx_commit = 1\ninnodb_log_buffer_size = 32M\ninnodb_log_file_size = 2G\ninnodb_log_files_in_group = 2\ninnodb_max_undo_log_size = 4G\ninnodb_undo_directory = /data/mysql/undolog\ninnodb_undo_tablespaces = 95\n\n# 根据您的服务器IOPS能力适当调整\n# 一般配普通SSD盘的话，可以调整到 10000 - 20000\n# 配置高端PCIe SSD卡的话，则可以调整的更高，比如 50000 - 80000\ninnodb_io_capacity = 4000\ninnodb_io_capacity_max = 8000\ninnodb_flush_sync = 0\ninnodb_flush_neighbors = 0\ninnodb_write_io_threads = 8\ninnodb_read_io_threads = 8\ninnodb_purge_threads = 4\ninnodb_page_cleaners = 4\ninnodb_open_files = 65535\ninnodb_max_dirty_pages_pct = 50\ninnodb_flush_method = O_DIRECT\ninnodb_lru_scan_depth = 4000\ninnodb_checksum_algorithm = crc32\ninnodb_lock_wait_timeout = 10\ninnodb_rollback_on_timeout = 1\ninnodb_print_all_deadlocks = 1\ninnodb_file_per_table = 1\ninnodb_online_alter_log_max_size = 4G\ninnodb_stats_on_metadata = 0\ninnodb_undo_log_truncate = 1\n\n# some var for MySQL 5.7\ninnodb_checksums = 1\n#innodb_file_format = Barracuda\n#innodb_file_format_max = Barracuda\nquery_cache_size = 0\nquery_cache_type = 0\ninnodb_undo_logs = 128\n\n#注意：MySQL 8.0.16开始删除该选项\ninternal_tmp_disk_storage_engine = InnoDB\n\ninnodb_status_file = 1\n#注意: 开启 innodb_status_output & innodb_status_output_locks 后, 可能会导致log-error文件增长较快\ninnodb_status_output = 0\ninnodb_status_output_locks = 0\n\n#performance_schema\nperformance_schema = 1\nperformance_schema_instrument = \'%memory%=on\'\nperformance_schema_instrument = \'%lock%=on\'\n\n#innodb monitor\ninnodb_monitor_enable="module_innodb"\ninnodb_monitor_enable="module_server"\ninnodb_monitor_enable="module_dml"\ninnodb_monitor_enable="module_ddl"\ninnodb_monitor_enable="module_trx"\ninnodb_monitor_enable="module_os"\ninnodb_monitor_enable="module_purge"\ninnodb_monitor_enable="module_log"\ninnodb_monitor_enable="module_lock"\ninnodb_monitor_enable="module_buffer"\ninnodb_monitor_enable="module_index"\ninnodb_monitor_enable="module_ibuf_system"\ninnodb_monitor_enable="module_buffer_page"\ninnodb_monitor_enable="module_adaptive_hash"\n\n[mysqldump]\nquick\nmax_allowed_packet = 32M\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br"),a("span",{staticClass:"line-number"},[s._v("92")]),a("br"),a("span",{staticClass:"line-number"},[s._v("93")]),a("br"),a("span",{staticClass:"line-number"},[s._v("94")]),a("br"),a("span",{staticClass:"line-number"},[s._v("95")]),a("br"),a("span",{staticClass:"line-number"},[s._v("96")]),a("br"),a("span",{staticClass:"line-number"},[s._v("97")]),a("br"),a("span",{staticClass:"line-number"},[s._v("98")]),a("br"),a("span",{staticClass:"line-number"},[s._v("99")]),a("br"),a("span",{staticClass:"line-number"},[s._v("100")]),a("br"),a("span",{staticClass:"line-number"},[s._v("101")]),a("br"),a("span",{staticClass:"line-number"},[s._v("102")]),a("br"),a("span",{staticClass:"line-number"},[s._v("103")]),a("br"),a("span",{staticClass:"line-number"},[s._v("104")]),a("br"),a("span",{staticClass:"line-number"},[s._v("105")]),a("br"),a("span",{staticClass:"line-number"},[s._v("106")]),a("br"),a("span",{staticClass:"line-number"},[s._v("107")]),a("br"),a("span",{staticClass:"line-number"},[s._v("108")]),a("br"),a("span",{staticClass:"line-number"},[s._v("109")]),a("br"),a("span",{staticClass:"line-number"},[s._v("110")]),a("br"),a("span",{staticClass:"line-number"},[s._v("111")]),a("br"),a("span",{staticClass:"line-number"},[s._v("112")]),a("br"),a("span",{staticClass:"line-number"},[s._v("113")]),a("br"),a("span",{staticClass:"line-number"},[s._v("114")]),a("br"),a("span",{staticClass:"line-number"},[s._v("115")]),a("br"),a("span",{staticClass:"line-number"},[s._v("116")]),a("br"),a("span",{staticClass:"line-number"},[s._v("117")]),a("br"),a("span",{staticClass:"line-number"},[s._v("118")]),a("br"),a("span",{staticClass:"line-number"},[s._v("119")]),a("br"),a("span",{staticClass:"line-number"},[s._v("120")]),a("br"),a("span",{staticClass:"line-number"},[s._v("121")]),a("br"),a("span",{staticClass:"line-number"},[s._v("122")]),a("br"),a("span",{staticClass:"line-number"},[s._v("123")]),a("br"),a("span",{staticClass:"line-number"},[s._v("124")]),a("br"),a("span",{staticClass:"line-number"},[s._v("125")]),a("br"),a("span",{staticClass:"line-number"},[s._v("126")]),a("br"),a("span",{staticClass:"line-number"},[s._v("127")]),a("br"),a("span",{staticClass:"line-number"},[s._v("128")]),a("br"),a("span",{staticClass:"line-number"},[s._v("129")]),a("br"),a("span",{staticClass:"line-number"},[s._v("130")]),a("br"),a("span",{staticClass:"line-number"},[s._v("131")]),a("br"),a("span",{staticClass:"line-number"},[s._v("132")]),a("br"),a("span",{staticClass:"line-number"},[s._v("133")]),a("br"),a("span",{staticClass:"line-number"},[s._v("134")]),a("br"),a("span",{staticClass:"line-number"},[s._v("135")]),a("br"),a("span",{staticClass:"line-number"},[s._v("136")]),a("br"),a("span",{staticClass:"line-number"},[s._v("137")]),a("br"),a("span",{staticClass:"line-number"},[s._v("138")]),a("br"),a("span",{staticClass:"line-number"},[s._v("139")]),a("br"),a("span",{staticClass:"line-number"},[s._v("140")]),a("br"),a("span",{staticClass:"line-number"},[s._v("141")]),a("br"),a("span",{staticClass:"line-number"},[s._v("142")]),a("br"),a("span",{staticClass:"line-number"},[s._v("143")]),a("br"),a("span",{staticClass:"line-number"},[s._v("144")]),a("br"),a("span",{staticClass:"line-number"},[s._v("145")]),a("br"),a("span",{staticClass:"line-number"},[s._v("146")]),a("br"),a("span",{staticClass:"line-number"},[s._v("147")]),a("br"),a("span",{staticClass:"line-number"},[s._v("148")]),a("br"),a("span",{staticClass:"line-number"},[s._v("149")]),a("br"),a("span",{staticClass:"line-number"},[s._v("150")]),a("br"),a("span",{staticClass:"line-number"},[s._v("151")]),a("br"),a("span",{staticClass:"line-number"},[s._v("152")]),a("br"),a("span",{staticClass:"line-number"},[s._v("153")]),a("br"),a("span",{staticClass:"line-number"},[s._v("154")]),a("br"),a("span",{staticClass:"line-number"},[s._v("155")]),a("br"),a("span",{staticClass:"line-number"},[s._v("156")]),a("br"),a("span",{staticClass:"line-number"},[s._v("157")]),a("br"),a("span",{staticClass:"line-number"},[s._v("158")]),a("br"),a("span",{staticClass:"line-number"},[s._v("159")]),a("br"),a("span",{staticClass:"line-number"},[s._v("160")]),a("br"),a("span",{staticClass:"line-number"},[s._v("161")]),a("br")])]),a("h2",{attrs:{id:"client配置项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#client配置项"}},[s._v("#")]),s._v(" client配置项")]),s._v(" "),a("p",[s._v("该配置项常用在我们需要通过mysql命令行来执行一些初始安装操作。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[client]\n# mysql命令行默认的连接端口，也可以通过-p参数来指定端口\nport\t= 3306\n# mysql命令行默认连接的mysqld服务的socket通信文件\n# 如果没有配置该且在我们修改了mysqld的socket通信文件的默认位置，则需要通过-S参数指定该文件\n# 也可使通过-h来指定要连接的ip地址\nsocket\t= /data/mysql/mysql.sock\n\n# mysql命令行默认使用的用户名\nuser=root\n# root用户的密码\npassword=密码\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h2",{attrs:{id:"mysqld配置项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysqld配置项"}},[s._v("#")]),s._v(" mysqld配置项")]),s._v(" "),a("h4",{attrs:{id:"基本配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本配置"}},[s._v("#")]),s._v(" 基本配置")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 启动mysql服务的系统账户，开发环境通常为root\nuser\t= root\n# mysql服务的端口\nport\t= 3306\n# mysql的位置\nbasedir\t= /usr/local/mysql\n# mysql数据目录的位置\ndatadir\t= /data/mysql\n# mysql服务的通信文件\nsocket\t= /data/mysql/mysql.sock\n# mysql服务启动后的进程id\npid-file = mysqldb.pid\n# 是否dns解析，大型项目架构中通常会有一个内部dns服务器，此时设置为0合适，如果设置为1就只能使用ip地址了。\nskip_name_resolve = 0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h4",{attrs:{id:"字符集配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#字符集配置"}},[s._v("#")]),s._v(" 字符集配置")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# utf8mb4是utf8的超级，支持4字节的unicode，缺点是比utf8占用空间多点，最好设置为utf8mb4吧\ncharacter-set-server = utf8mb4\ncollation-server = utf8mb4_general_ci\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h4",{attrs:{id:"sql语法-行为配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sql语法-行为配置"}},[s._v("#")]),s._v(" sql语法/行为配置")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 表名忽略大小写\nlower_case_table_names=1\n# 语法限制,一般不设置,常用的就是only full group by\n# sql_mode=\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h4",{attrs:{id:"连接优化配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#连接优化配置"}},[s._v("#")]),s._v(" 连接优化配置")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# tcp连接缓冲池大小\nback_log = 500\n# 最大连接数\nmax_connections=3000\n# 每个用户的最大连接数,如果只有一个用户可以设置为0,或者小于等于max_connections\nmax_user_connections=500\n# 最大并行连接数\nmax_used_connections=1000\n# 最大连接失败次数,超过则禁止连接,直到重启或执行flush hosts命令\nmax_connect_errors = 6000\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h4",{attrs:{id:"查询缓存优化配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查询缓存优化配置"}},[s._v("#")]),s._v(" 查询缓存优化配置")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 排序,分组\nsort_buffer_size = 4M\n# 连接查询\njoin_buffer_size = 4M\n# 索引占用的内存代下\nkey_buffer_size = 2048M\n# 每个连接全表扫描时的缓冲区大小\nread_buffer_size = 8M\n# 每个连接随机扫描的缓冲区大小\nread_rnd_buffer_size = 4M\n# 不限制大小,由mysql自己决定\nquery_cache_size=0\n# 开启缓存\nquery_cache_type=1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h4",{attrs:{id:"事务配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事务配置"}},[s._v("#")]),s._v(" 事务配置")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 修改默认事务级别\ntransaction_isolation=READ-COMMITTED\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"线程优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#线程优化"}},[s._v("#")]),s._v(" 线程优化")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("thread_cache_size = 768\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);