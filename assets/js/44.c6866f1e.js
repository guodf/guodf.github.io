(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{258:function(s,t,a){"use strict";a.r(t);var n=a(1),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"ssh配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ssh配置"}},[s._v("#")]),s._v(" ssh配置")]),s._v(" "),a("h3",{attrs:{id:"启用root账号并允许使用密码登陆"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启用root账号并允许使用密码登陆"}},[s._v("#")]),s._v(" 启用root账号并允许使用密码登陆")]),s._v(" "),a("p",[s._v("默认sshd服务不启用root用户账户，这里修改sshd的配置文件，允许root用户登陆。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#编辑sshd的配置文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/ssh/sshd_config\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#找到以下两行并做对应的修改")]),s._v("\nPermitRootLogin "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\nPermitEmptyPaswords "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#修改完成后保存并重启sshd服务,下面列出3中可用办法")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#我们使用systemctl命令重启sshd服务，systemctl正在逐渐的替代service命令")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#service restart ssd")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#/etc/rc.d/sshd reload")]),s._v("\nsystemctl restart sshd.service\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h3",{attrs:{id:"配置ssh使用秘钥文件登陆"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置ssh使用秘钥文件登陆"}},[s._v("#")]),s._v(" 配置ssh使用秘钥文件登陆")]),s._v(" "),a("p",[a("strong",[s._v("创建秘钥文件")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#默认ssh-keygen会创建rsa格式的秘钥文件，一路回车知道完成即可")]),s._v("\nssh-keygen\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#你会在用户.ssh目录下发现id_rsa,id_rsa.pub连个文件即为我们创建的秘钥,然后将公钥追加到authorized_keys文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" .ssh/id_rsa.pub "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" authorized_keys\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#如果你使用的是非root账户，可能还需要添加一些权限")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("600")]),s._v(" .ssh/authorized_keys\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[a("strong",[s._v("复制私钥到客户机")])]),s._v(" "),a("p",[s._v("上一步生成的"),a("code",[s._v("id_rsa")]),s._v("就是私钥文件，复制到需要链接改服务器的客户机就行了。")]),s._v(" "),a("p",[a("strong",[s._v("修改sshd配置")])]),s._v(" "),a("p",[s._v("签名的操作我们已经准备了ssh秘钥登录需要的文件，接下来我们需要开启ssh的秘钥登录验证功能：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#编辑sshd的配置文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/ssh/sshd_config\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#找到以下两行并做对应的修改")]),s._v("\nPubkeyAuthentication "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重启sshd服务")]),s._v("\nsystemctl restart sshd.service\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("到此我们已经开启了ssh的秘钥登录验证。")]),s._v(" "),a("h3",{attrs:{id:"配置ssh免密登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置ssh免密登录"}},[s._v("#")]),s._v(" 配置ssh免密登录")]),s._v(" "),a("p",[s._v("待续...")])])}),[],!1,null,null,null);t.default=e.exports}}]);